import{S as X,i as Y,s as Z,j as V,m as q,o as z,x as F,u as H,v as K,$ as ee,e as $,t as N,k as A,c as b,a as E,g as w,d as g,n as I,b as l,f as te,E as r,a0 as Q,a1 as G,h as ae,a2 as se}from"../chunks/vendor-a7bd5f25.js";import{g as W}from"../chunks/navigation-51f4a605.js";import{s as ne}from"../chunks/store-344738a1.js";import{J as oe,a as re}from"../chunks/websockets-72c92e35.js";import{M as le}from"../chunks/MenuContainer-eb9e4ac9.js";import{P as ue}from"../chunks/PlayerCard-8965b305.js";import"../chunks/singletons-12a22614.js";function ce(u){var O,R;let a,e,t,c,m,s,j,f,v=((O=u[1])==null?void 0:O.name)+"",_,J,h,B,C,i,P,p,x,M,k,D,L;return s=new ue({props:{avatar:(R=u[1])==null?void 0:R.avatar,flipx:!1}}),{c(){a=$("div"),e=$("div"),t=$("label"),c=N("ENTER GAME AS..."),m=A(),V(s.$$.fragment),j=A(),f=$("label"),_=N(v),J=A(),h=$("button"),B=N("EDIT"),C=A(),i=$("input"),P=A(),p=$("button"),x=N("JOIN GAME"),this.h()},l(n){a=b(n,"DIV",{class:!0});var d=E(a);e=b(d,"DIV",{class:!0});var o=E(e);t=b(o,"LABEL",{for:!0,class:!0});var y=E(t);c=w(y,"ENTER GAME AS..."),y.forEach(g),m=I(o),q(s.$$.fragment,o),j=I(o),f=b(o,"LABEL",{for:!0,class:!0});var T=E(f);_=w(T,v),T.forEach(g),J=I(o),h=b(o,"BUTTON",{class:!0});var S=E(h);B=w(S,"EDIT"),S.forEach(g),C=I(o),i=b(o,"INPUT",{name:!0,placeholder:!0,type:!0,autocomplete:!0,class:!0}),P=I(o),p=b(o,"BUTTON",{class:!0});var U=E(p);x=w(U,"JOIN GAME"),U.forEach(g),o.forEach(g),d.forEach(g),this.h()},h(){l(t,"for","name"),l(t,"class","svelte-koutcx"),l(f,"for","name"),l(f,"class","svelte-koutcx"),l(h,"class","no-background svelte-koutcx"),l(i,"name","name"),l(i,"placeholder","Type room name..."),l(i,"type","text"),l(i,"autocomplete","off"),l(i,"class","svelte-koutcx"),l(p,"class","join svelte-koutcx"),p.disabled=M=!u[0],l(e,"class","input-data svelte-koutcx"),l(a,"class","container svelte-koutcx")},m(n,d){te(n,a,d),r(a,e),r(e,t),r(t,c),r(e,m),z(s,e,null),r(e,j),r(e,f),r(f,_),r(e,J),r(e,h),r(h,B),r(e,C),r(e,i),Q(i,u[0]),r(e,P),r(e,p),r(p,x),k=!0,D||(L=[G(h,"click",u[4]),G(i,"input",u[5]),G(p,"click",u[3])],D=!0)},p(n,d){var y,T;const o={};d&2&&(o.avatar=(y=n[1])==null?void 0:y.avatar),s.$set(o),(!k||d&2)&&v!==(v=((T=n[1])==null?void 0:T.name)+"")&&ae(_,v),d&1&&i.value!==n[0]&&Q(i,n[0]),(!k||d&1&&M!==(M=!n[0]))&&(p.disabled=M)},i(n){k||(F(s.$$.fragment,n),k=!0)},o(n){H(s.$$.fragment,n),k=!1},d(n){n&&g(a),K(s),D=!1,se(L)}}}function ie(u){let a,e;return a=new le({props:{$$slots:{default:[ce]},$$scope:{ctx:u}}}),{c(){V(a.$$.fragment)},l(t){q(a.$$.fragment,t)},m(t,c){z(a,t,c),e=!0},p(t,[c]){const m={};c&131&&(m.$$scope={dirty:c,ctx:t}),a.$set(m)},i(t){e||(F(a.$$.fragment,t),e=!0)},o(t){H(a.$$.fragment,t),e=!1},d(t){K(a,t)}}}function me(u,a,e){let t;const c=ne.get(),m=c.select(_=>_.session);ee(u,m,_=>e(1,t=_));let s;function j(){c.emit(new oe(s)),c.emit(new re(s)),W(`/game/${s}/wait-players`)}function f(){W("/player")}function v(){s=this.value,e(0,s)}return[s,t,m,j,f,v]}class be extends X{constructor(a){super();Y(this,a,me,ie,Z,{})}}export{be as default};
