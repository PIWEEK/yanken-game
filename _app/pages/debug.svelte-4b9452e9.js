import{S as ve,i as me,s as be,e as g,t as p,k as U,l as K,c as P,a as T,g as k,d as u,n as V,f as L,E as _,h as J,a4 as $,b as pe,a1 as z,_ as Y,a2 as ke,$ as Z}from"../chunks/vendor-a7bd5f25.js";import{s as Ee}from"../chunks/store-344738a1.js";import{H as ge,J as Pe,b as Te,c as Ie}from"../chunks/websockets-72c92e35.js";function x(a,e,s){const t=a.slice();return t[12]=e[s],t}function ee(a,e,s){const t=a.slice();return t[15]=e[s],t}function le(a,e,s){const t=a.slice();return t[18]=e[s][0],t[15]=e[s][1],t}function te(a,e,s){const t=a.slice();return t[21]=e[s],t}function ne(a,e,s){const t=a.slice();return t[21]=e[s],t}function ie(a,e,s){const t=a.slice();return t[21]=e[s],t}function oe(a){let e,s,t=a[1].round+"",n,l,i,r,f=a[1].status+"",b,O,I,w,E=a[1].stage+"",d,h,m,N,G,W,j,H,y,B=a[1].players,R=[];for(let o=0;o<B.length;o+=1)R[o]=se(ie(a,B,o));let S=a[1].livePlayers&&fe(a),A=a[1].deadPlayers&&ae(a),v=a[1].results&&_e(a);return{c(){e=g("div"),s=p("Round "),n=p(t),l=U(),i=g("div"),r=p("Status: "),b=p(f),O=U(),I=g("div"),w=p("Stage: "),d=p(E),h=U(),m=g("div"),N=p(`Players
      `),G=g("ul");for(let o=0;o<R.length;o+=1)R[o].c();W=U(),S&&S.c(),j=U(),A&&A.c(),H=U(),v&&v.c(),y=K()},l(o){e=P(o,"DIV",{});var c=T(e);s=k(c,"Round "),n=k(c,t),c.forEach(u),l=V(o),i=P(o,"DIV",{});var D=T(i);r=k(D,"Status: "),b=k(D,f),D.forEach(u),O=V(o),I=P(o,"DIV",{});var M=T(I);w=k(M,"Stage: "),d=k(M,E),M.forEach(u),h=V(o),m=P(o,"DIV",{});var q=T(m);N=k(q,`Players
      `),G=P(q,"UL",{});var F=T(G);for(let C=0;C<R.length;C+=1)R[C].l(F);F.forEach(u),q.forEach(u),W=V(o),S&&S.l(o),j=V(o),A&&A.l(o),H=V(o),v&&v.l(o),y=K()},m(o,c){L(o,e,c),_(e,s),_(e,n),L(o,l,c),L(o,i,c),_(i,r),_(i,b),L(o,O,c),L(o,I,c),_(I,w),_(I,d),L(o,h,c),L(o,m,c),_(m,N),_(m,G);for(let D=0;D<R.length;D+=1)R[D].m(G,null);L(o,W,c),S&&S.m(o,c),L(o,j,c),A&&A.m(o,c),L(o,H,c),v&&v.m(o,c),L(o,y,c)},p(o,c){if(c&2&&t!==(t=o[1].round+"")&&J(n,t),c&2&&f!==(f=o[1].status+"")&&J(b,f),c&2&&E!==(E=o[1].stage+"")&&J(d,E),c&2){B=o[1].players;let D;for(D=0;D<B.length;D+=1){const M=ie(o,B,D);R[D]?R[D].p(M,c):(R[D]=se(M),R[D].c(),R[D].m(G,null))}for(;D<R.length;D+=1)R[D].d(1);R.length=B.length}o[1].livePlayers?S?S.p(o,c):(S=fe(o),S.c(),S.m(j.parentNode,j)):S&&(S.d(1),S=null),o[1].deadPlayers?A?A.p(o,c):(A=ae(o),A.c(),A.m(H.parentNode,H)):A&&(A.d(1),A=null),o[1].results?v?v.p(o,c):(v=_e(o),v.c(),v.m(y.parentNode,y)):v&&(v.d(1),v=null)},d(o){o&&u(e),o&&u(l),o&&u(i),o&&u(O),o&&u(I),o&&u(h),o&&u(m),$(R,o),o&&u(W),S&&S.d(o),o&&u(j),A&&A.d(o),o&&u(H),v&&v.d(o),o&&u(y)}}}function se(a){let e,s=a[21]+"",t;return{c(){e=g("li"),t=p(s)},l(n){e=P(n,"LI",{});var l=T(e);t=k(l,s),l.forEach(u)},m(n,l){L(n,e,l),_(e,t)},p(n,l){l&2&&s!==(s=n[21]+"")&&J(t,s)},d(n){n&&u(e)}}}function fe(a){let e,s,t,n=a[1].livePlayers,l=[];for(let i=0;i<n.length;i+=1)l[i]=re(ne(a,n,i));return{c(){e=g("div"),s=p(`Live Players
      `),t=g("ul");for(let i=0;i<l.length;i+=1)l[i].c()},l(i){e=P(i,"DIV",{});var r=T(e);s=k(r,`Live Players
      `),t=P(r,"UL",{});var f=T(t);for(let b=0;b<l.length;b+=1)l[b].l(f);f.forEach(u),r.forEach(u)},m(i,r){L(i,e,r),_(e,s),_(e,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null)},p(i,r){if(r&2){n=i[1].livePlayers;let f;for(f=0;f<n.length;f+=1){const b=ne(i,n,f);l[f]?l[f].p(b,r):(l[f]=re(b),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=n.length}},d(i){i&&u(e),$(l,i)}}}function re(a){let e,s=a[21]+"",t;return{c(){e=g("li"),t=p(s)},l(n){e=P(n,"LI",{});var l=T(e);t=k(l,s),l.forEach(u)},m(n,l){L(n,e,l),_(e,t)},p(n,l){l&2&&s!==(s=n[21]+"")&&J(t,s)},d(n){n&&u(e)}}}function ae(a){let e,s,t,n=a[1].deadPlayers,l=[];for(let i=0;i<n.length;i+=1)l[i]=ce(te(a,n,i));return{c(){e=g("div"),s=p(`Dead Players
      `),t=g("ul");for(let i=0;i<l.length;i+=1)l[i].c()},l(i){e=P(i,"DIV",{});var r=T(e);s=k(r,`Dead Players
      `),t=P(r,"UL",{});var f=T(t);for(let b=0;b<l.length;b+=1)l[b].l(f);f.forEach(u),r.forEach(u)},m(i,r){L(i,e,r),_(e,s),_(e,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null)},p(i,r){if(r&2){n=i[1].deadPlayers;let f;for(f=0;f<n.length;f+=1){const b=te(i,n,f);l[f]?l[f].p(b,r):(l[f]=ce(b),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=n.length}},d(i){i&&u(e),$(l,i)}}}function ce(a){let e,s=a[21]+"",t;return{c(){e=g("li"),t=p(s)},l(n){e=P(n,"LI",{});var l=T(e);t=k(l,s),l.forEach(u)},m(n,l){L(n,e,l),_(e,t)},p(n,l){l&2&&s!==(s=n[21]+"")&&J(t,s)},d(n){n&&u(e)}}}function _e(a){let e,s,t=a[1].results,n=[];for(let l=0;l<t.length;l+=1)n[l]=de(x(a,t,l));return{c(){e=g("div"),s=p(`Results
      `);for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=P(l,"DIV",{});var i=T(e);s=k(i,`Results
      `);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(u)},m(l,i){L(l,e,i),_(e,s);for(let r=0;r<n.length;r+=1)n[r].m(e,null)},p(l,i){if(i&2){t=l[1].results;let r;for(r=0;r<t.length;r+=1){const f=x(l,t,r);n[r]?n[r].p(f,i):(n[r]=de(f),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(l){l&&u(e),$(n,l)}}}function ue(a){let e,s=a[18]+"",t,n,l=a[15]+"",i;return{c(){e=g("li"),t=p(s),n=p(" : "),i=p(l)},l(r){e=P(r,"LI",{});var f=T(e);t=k(f,s),n=k(f," : "),i=k(f,l),f.forEach(u)},m(r,f){L(r,e,f),_(e,t),_(e,n),_(e,i)},p(r,f){f&2&&s!==(s=r[18]+"")&&J(t,s),f&2&&l!==(l=r[15]+"")&&J(i,l)},d(r){r&&u(e)}}}function he(a){let e,s,t=a[15].round+"",n,l,i,r,f,b=a[15].winner+"",O,I,w=Object.entries(a[15].responses),E=[];for(let d=0;d<w.length;d+=1)E[d]=ue(le(a,w,d));return{c(){e=g("ul"),s=p("Round: "),n=p(t),l=U();for(let d=0;d<E.length;d+=1)E[d].c();i=U(),r=g("li"),f=p("Winner: "),O=p(b),I=U()},l(d){e=P(d,"UL",{});var h=T(e);s=k(h,"Round: "),n=k(h,t),l=V(h);for(let N=0;N<E.length;N+=1)E[N].l(h);i=V(h),r=P(h,"LI",{});var m=T(r);f=k(m,"Winner: "),O=k(m,b),m.forEach(u),I=V(h),h.forEach(u)},m(d,h){L(d,e,h),_(e,s),_(e,n),_(e,l);for(let m=0;m<E.length;m+=1)E[m].m(e,null);_(e,i),_(e,r),_(r,f),_(r,O),_(e,I)},p(d,h){if(h&2&&t!==(t=d[15].round+"")&&J(n,t),h&2){w=Object.entries(d[15].responses);let m;for(m=0;m<w.length;m+=1){const N=le(d,w,m);E[m]?E[m].p(N,h):(E[m]=ue(N),E[m].c(),E[m].m(e,i))}for(;m<E.length;m+=1)E[m].d(1);E.length=w.length}h&2&&b!==(b=d[15].winner+"")&&J(O,b)},d(d){d&&u(e),$(E,d)}}}function de(a){let e,s=a[12],t=[];for(let n=0;n<s.length;n+=1)t[n]=he(ee(a,s,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=K()},l(n){for(let l=0;l<t.length;l+=1)t[l].l(n);e=K()},m(n,l){for(let i=0;i<t.length;i+=1)t[i].m(n,l);L(n,e,l)},p(n,l){if(l&2){s=n[12];let i;for(i=0;i<s.length;i+=1){const r=ee(n,s,i);t[i]?t[i].p(r,l):(t[i]=he(r),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=s.length}},d(n){$(t,n),n&&u(e)}}}function De(a){let e,s,t,n,l,i,r,f,b,O,I,w,E,d,h,m,N,G,W,j,H,y=(a[0]&&a[0].id)+"",B,R,S,A,v=a[1]&&oe(a);return{c(){e=g("div"),s=g("button"),t=p("Hello"),n=U(),l=g("button"),i=p("Join"),r=U(),f=g("button"),b=p("START GAME"),O=U(),I=g("button"),w=p("PIEDRA"),E=U(),d=g("button"),h=p("PAPEL"),m=U(),N=g("button"),G=p("TIJERA"),W=U(),j=g("div"),H=p("Session: "),B=p(y),R=U(),v&&v.c(),this.h()},l(o){e=P(o,"DIV",{class:!0});var c=T(e);s=P(c,"BUTTON",{});var D=T(s);t=k(D,"Hello"),D.forEach(u),n=V(c),l=P(c,"BUTTON",{});var M=T(l);i=k(M,"Join"),M.forEach(u),r=V(c),f=P(c,"BUTTON",{});var q=T(f);b=k(q,"START GAME"),q.forEach(u),O=V(c),I=P(c,"BUTTON",{});var F=T(I);w=k(F,"PIEDRA"),F.forEach(u),E=V(c),d=P(c,"BUTTON",{});var C=T(d);h=k(C,"PAPEL"),C.forEach(u),m=V(c),N=P(c,"BUTTON",{});var X=T(N);G=k(X,"TIJERA"),X.forEach(u),W=V(c),j=P(c,"DIV",{});var Q=T(j);H=k(Q,"Session: "),B=k(Q,y),Q.forEach(u),R=V(c),v&&v.l(c),c.forEach(u),this.h()},h(){pe(e,"class","test svelte-1il1lvt")},m(o,c){L(o,e,c),_(e,s),_(s,t),_(e,n),_(e,l),_(l,i),_(e,r),_(e,f),_(f,b),_(e,O),_(e,I),_(I,w),_(e,E),_(e,d),_(d,h),_(e,m),_(e,N),_(N,G),_(e,W),_(e,j),_(j,H),_(j,B),_(e,R),v&&v.m(e,null),S||(A=[z(s,"click",a[4]),z(l,"click",a[5]),z(f,"click",a[6]),z(I,"click",a[8]),z(d,"click",a[9]),z(N,"click",a[10])],S=!0)},p(o,[c]){c&1&&y!==(y=(o[0]&&o[0].id)+"")&&J(B,y),o[1]?v?v.p(o,c):(v=oe(o),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i:Y,o:Y,d(o){o&&u(e),v&&v.d(),S=!1,ke(A)}}}function Le(a,e,s){let t,n;const l=Ee.get(),i=l.select(h=>h.session);Z(a,i,h=>s(0,t=h));const r=l.select(h=>h.room);Z(a,r,h=>s(1,n=h));function f(){l.emit(new ge("fulano","avatar"))}function b(){l.emit(new Pe("test5"))}function O(){l.emit(new Te)}function I(h){l.emit(new Ie(h))}return[t,n,i,r,f,b,O,I,()=>I(1),()=>I(2),()=>I(3)]}class Ne extends ve{constructor(e){super();me(this,e,Le,De,be,{})}}export{Ne as default};
