import{S as q,i as z,s as F,j as w,m as L,o as N,x as p,u as v,v as E,$ as J,e as C,c as _,a as k,d as A,b as g,f as D,r as U,w as V,a4 as M,t as X,g as P,E as h,a1 as H,_ as R,k as I,n as Z,a5 as W}from"../../chunks/vendor-a7bd5f25.js";import{s as $}from"../../chunks/store-344738a1.js";import{P as x}from"../../chunks/PlayerCard-9b25eda5.js";import{M as ee}from"../../chunks/MenuContainer-eb9e4ac9.js";import{b as te}from"../../chunks/websockets-72c92e35.js";var se="data:image/png;base64,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";function Q(r,e,l){const t=r.slice();return t[6]=e[l],t}function T(r){let e,l,t=r[0].players,s=[];for(let a=0;a<t.length;a+=1)s[a]=G(Q(r,t,a));const o=a=>v(s[a],1,1,()=>{s[a]=null});return{c(){e=C("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=_(a,"DIV",{class:!0});var i=k(e);for(let n=0;n<s.length;n+=1)s[n].l(i);i.forEach(A),this.h()},h(){g(e,"class","player-list svelte-d41lqy")},m(a,i){D(a,e,i);for(let n=0;n<s.length;n+=1)s[n].m(e,null);l=!0},p(a,i){if(i&1){t=a[0].players;let n;for(n=0;n<t.length;n+=1){const m=Q(a,t,n);s[n]?(s[n].p(m,i),p(s[n],1)):(s[n]=G(m),s[n].c(),p(s[n],1),s[n].m(e,null))}for(U(),n=t.length;n<s.length;n+=1)o(n);V()}},i(a){if(!l){for(let i=0;i<t.length;i+=1)p(s[i]);l=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)v(s[i]);l=!1},d(a){a&&A(e),M(s,a)}}}function G(r){let e,l;return e=new x({props:{name:r[0].sessions[r[6]].name,avatar:r[0].sessions[r[6]].avatar||"red",flipx:!0}}),{c(){w(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){N(e,t,s),l=!0},p(t,s){const o={};s&1&&(o.name=t[0].sessions[t[6]].name),s&1&&(o.avatar=t[0].sessions[t[6]].avatar||"red"),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function Y(r){let e,l,t,s;return{c(){e=C("button"),l=X("GO!")},l(o){e=_(o,"BUTTON",{});var a=k(e);l=P(a,"GO!"),a.forEach(A)},m(o,a){D(o,e,a),h(e,l),t||(s=H(e,"click",r[4]),t=!0)},p:R,d(o){o&&A(e),t=!1,s()}}}function ae(r){var B,K,S;let e,l,t,s,o,a,i,n,m,y,c=((B=r[0])==null?void 0:B.players)&&T(r),f=((K=r[0])==null?void 0:K.owner)&&((S=r[1])==null?void 0:S.id)&&r[0].owner==r[1].id&&Y(r);return{c(){e=C("div"),l=C("div"),t=X("Wait until the game starts..."),s=I(),o=C("div"),a=C("img"),n=I(),c&&c.c(),m=I(),f&&f.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var d=k(e);l=_(d,"DIV",{class:!0});var b=k(l);t=P(b,"Wait until the game starts..."),b.forEach(A),s=Z(d),o=_(d,"DIV",{class:!0});var j=k(o);a=_(j,"IMG",{alt:!0,src:!0,class:!0}),j.forEach(A),n=Z(d),c&&c.l(d),m=Z(d),f&&f.l(d),d.forEach(A),this.h()},h(){g(l,"class","message svelte-d41lqy"),g(a,"alt","Timer"),W(a.src,i=se)||g(a,"src",i),g(a,"class","svelte-d41lqy"),g(o,"class","clock svelte-d41lqy"),g(e,"class","container svelte-d41lqy")},m(u,d){D(u,e,d),h(e,l),h(l,t),h(e,s),h(e,o),h(o,a),h(e,n),c&&c.m(e,null),h(e,m),f&&f.m(e,null),y=!0},p(u,d){var b,j,O;((b=u[0])==null?void 0:b.players)?c?(c.p(u,d),d&1&&p(c,1)):(c=T(u),c.c(),p(c,1),c.m(e,m)):c&&(U(),v(c,1,1,()=>{c=null}),V()),((j=u[0])==null?void 0:j.owner)&&((O=u[1])==null?void 0:O.id)&&u[0].owner==u[1].id?f?f.p(u,d):(f=Y(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(u){y||(p(c),y=!0)},o(u){v(c),y=!1},d(u){u&&A(e),c&&c.d(),f&&f.d()}}}function le(r){let e,l;return e=new ee({props:{$$slots:{default:[ae]},$$scope:{ctx:r}}}),{c(){w(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){N(e,t,s),l=!0},p(t,[s]){const o={};s&515&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function ne(r,e,l){let t,s;const o=$.get(),a=o.select(m=>m.session);J(r,a,m=>l(1,s=m));const i=o.select(m=>m.room);J(r,i,m=>l(0,t=m));function n(){o.emit(new te)}return[t,s,a,i,n]}class fe extends q{constructor(e){super();z(this,e,ne,le,F,{})}}export{fe as default};
