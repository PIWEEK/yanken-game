import{S as G,i as H,s as J,e as $,c as y,a as b,d as g,b as k,a7 as Y,f as q,_ as B,a4 as Z,a5 as K,j as P,m as R,o as x,x as j,u as M,v as z,$ as N,t as C,k as A,g as S,n as L,E as _,h as ee,r as te,w as se}from"../../../chunks/vendor-06d4fd3a.js";import{s as ne}from"../../../chunks/store-9ef01361.js";import{M as re}from"../../../chunks/MatchData-92f64ab7.js";import{M as ae}from"../../../chunks/MenuContainer-519bd293.js";import"../../../chunks/PlayerCard-e28a99bc.js";function O(a,e,n){const t=a.slice();return t[4]=e[n],t}function Q(a){let e;return{c(){e=$("div"),this.h()},l(n){e=y(n,"DIV",{class:!0}),b(e).forEach(g),this.h()},h(){k(e,"class","bullet svelte-nna29y"),Y(e,"filled",!a[4])},m(n,t){q(n,e,t)},p:B,d(n){n&&g(e)}}}function le(a){let e,n=a[0],t=[];for(let s=0;s<n.length;s+=1)t[s]=Q(O(a,n,s));return{c(){e=$("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=y(s,"DIV",{class:!0,style:!0});var o=b(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(g),this.h()},h(){k(e,"class","progress svelte-nna29y"),Z(e,"--bullet-count",T)},m(s,o){q(s,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(s,[o]){if(o&1){n=s[0];let r;for(r=0;r<n.length;r+=1){const f=O(s,n,r);t[r]?t[r].p(f,o):(t[r]=Q(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:B,o:B,d(s){s&&g(e),K(t,s)}}}const T=14;function oe(a,e,n){let{progress:t=0}=e,s=Math.floor(T*t/100),o=T-s,r=[...new Array(s).fill(!0),...new Array(o).fill(!1)];return a.$$set=f=>{"progress"in f&&n(1,t=f.progress)},[r,t]}class ce extends G{constructor(e){super();H(this,e,oe,le,J,{progress:1})}}function U(a,e,n){const t=a.slice();return t[5]=e[n],t}function W(a){let e,n;return e=new re({props:{player1:a[5][0],player2:a[5][1]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,s){x(e,t,s),n=!0},p(t,s){const o={};s&2&&(o.player1=t[5][0]),s&2&&(o.player2=t[5][1]),e.$set(o)},i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){M(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function ie(a){var F;let e,n,t,s=((F=a[0])==null?void 0:F.round)+"",o,r,f,m,w,d,I,p,D;d=new ce({props:{progress:100}});let v=a[1],c=[];for(let l=0;l<v.length;l+=1)c[l]=W(U(a,v,l));const X=l=>M(c[l],1,1,()=>{c[l]=null});return{c(){e=$("div"),n=$("div"),t=C("Round "),o=C(s),r=A(),f=$("div"),m=C("Ready to fight?"),w=A(),P(d.$$.fragment),I=A(),p=$("div");for(let l=0;l<c.length;l+=1)c[l].c();this.h()},l(l){e=y(l,"DIV",{class:!0});var i=b(e);n=y(i,"DIV",{class:!0});var h=b(n);t=S(h,"Round "),o=S(h,s),h.forEach(g),r=L(i),f=y(i,"DIV",{class:!0});var u=b(f);m=S(u,"Ready to fight?"),u.forEach(g),w=L(i),R(d.$$.fragment,i),I=L(i),p=y(i,"DIV",{class:!0});var E=b(p);for(let V=0;V<c.length;V+=1)c[V].l(E);E.forEach(g),i.forEach(g),this.h()},h(){k(n,"class","round svelte-1unjzmq"),k(f,"class","message svelte-1unjzmq"),k(p,"class","matches-list svelte-1unjzmq"),k(e,"class","container svelte-1unjzmq")},m(l,i){q(l,e,i),_(e,n),_(n,t),_(n,o),_(e,r),_(e,f),_(f,m),_(e,w),x(d,e,null),_(e,I),_(e,p);for(let h=0;h<c.length;h+=1)c[h].m(p,null);D=!0},p(l,i){var h;if((!D||i&1)&&s!==(s=((h=l[0])==null?void 0:h.round)+"")&&ee(o,s),i&2){v=l[1];let u;for(u=0;u<v.length;u+=1){const E=U(l,v,u);c[u]?(c[u].p(E,i),j(c[u],1)):(c[u]=W(E),c[u].c(),j(c[u],1),c[u].m(p,null))}for(te(),u=v.length;u<c.length;u+=1)X(u);se()}},i(l){if(!D){j(d.$$.fragment,l);for(let i=0;i<v.length;i+=1)j(c[i]);D=!0}},o(l){M(d.$$.fragment,l),c=c.filter(Boolean);for(let i=0;i<c.length;i+=1)M(c[i]);D=!1},d(l){l&&g(e),z(d),K(c,l)}}}function ue(a){let e,n;return e=new ae({props:{hideRoom:!0,$$slots:{default:[ie]},$$scope:{ctx:a}}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,s){x(e,t,s),n=!0},p(t,[s]){const o={};s&259&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){M(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function fe(a){const e=a.room;if(!e||!e.fights)return[];const n=e.sessions;return e.fights.map(t=>t.players.map(s=>n[s]))}function he(a,e,n){let t,s;const o=ne.get(),r=o.select(m=>m.room);N(a,r,m=>n(0,t=m));const f=o.select(fe);return N(a,f,m=>n(1,s=m)),[t,s,r,f]}class ve extends G{constructor(e){super();H(this,e,he,ue,J,{})}}export{ve as default};
